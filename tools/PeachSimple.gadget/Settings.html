<html>
<head>
	<title>Peach Monitor</title>
	<style>
		body { width:300; height:300; margin-top:0; margin-left:0;}                
</style>

	<script language="JavaScript">

var NumThemes = 50;
var currTheme = 1;
var NumC1Colors = 12;
var currC1Color = 1;
var NumC2Colors = 12;
var currC2Color = 1;
var NumMColors = 12;
var currMColor = 1;
System.Gadget.onSettingsClosing = SettingsClosing; 

/////////////////////////////////////////////////////////////////////////////////
function startup() {
/////////////////////////////////////////////////////////////////////////////////

	var THLbg = System.Gadget.Settings.read("THLbg");
    if (THLbg != "")
        bg.src = "skins/bg" + THLbg + ".png";
    currTheme = THLbg;        
    numSkin.value = currTheme;
    
    var StatusC1Color = System.Gadget.Settings.read("StatusC1Color");
    if (StatusC1Color != "")
        st.src = "status/st" + StatusC1Color + ".png";
    currC1Color = StatusC1Color;        
    numC1Color.value = currC1Color;
    
    var StatusC2Color = System.Gadget.Settings.read("StatusC2Color");
    if (StatusC2Color != "")
        st1.src = "status/st" + StatusC2Color + ".png";
    currC2Color = StatusC2Color;        
    numC2Color.value = currC2Color;
    
    var StatusMColor = System.Gadget.Settings.read("StatusMColor");
    if (StatusMColor != "")
        st2.src = "status/st" + StatusMColor + ".png";
    currMColor = StatusMColor;        
    numMColor.value = currMColor;
    
    var firstColor = System.Gadget.Settings.read("firstColor");
	document.all.firstColor.value = firstColor;
	
	var secondColor = System.Gadget.Settings.read("secondColor");
	document.all.secondColor.value = secondColor;
	
	var thirdColor = System.Gadget.Settings.read(" thirdColor");
	document.all. thirdColor.value =  thirdColor;

    if( System.Gadget.Settings.read("intervalIndex") != "" )
        Interval.options.selectedIndex = System.Gadget.Settings.read("intervalIndex");
    else 
	    Interval.options.selectedIndex = 0;
   
    System.Gadget.onSettingsClosing = SettingsClosing;   
}

/////////////////////////////////////////////////////////////////////////////////
function setPrev(){
/////////////////////////////////////////////////////////////////////////////////
    currTheme -= 1;
    if (currTheme <= 0) 
        currTheme = NumThemes;
    alert(currTheme);
    setTheme();
	
	numSkin.value = currTheme;
}


/////////////////////////////////////////////////////////////////////////////////
function setNext(){
/////////////////////////////////////////////////////////////////////////////////
    currTheme += 1;
    if (currTheme > NumThemes)
        currTheme = 1;
    setTheme();
	
	numSkin.value = currTheme;
}


/////////////////////////////////////////////////////////////////////////////////
function setPrevC1Color(){
/////////////////////////////////////////////////////////////////////////////////
    currC1Color -= 1;
    if (currC1Color <= 0) 
        currC1Color = NumC1Colors;
    alert(currC1Color);
    setColor();
	
	numC1Color.value = currC1Color;
}

/////////////////////////////////////////////////////////////////////////////////
function setNextC1Color(){
/////////////////////////////////////////////////////////////////////////////////
    currC1Color += 1;
    if (currC1Color > NumC1Colors)
        currC1Color = 1;
    setColor();
	
	numC1Color.value = currC1Color;
}

/////////////////////////////////////////////////////////////////////////////////
function setPrevC2Color(){
/////////////////////////////////////////////////////////////////////////////////
    currC2Color -= 1;
    if (currC2Color <= 0) 
        currC2Color = NumC2Colors;
    alert(currC2Color);
    setColor2();
	
	numC2Color.value = currC2Color;
}

/////////////////////////////////////////////////////////////////////////////////
function setNextC2Color(){
/////////////////////////////////////////////////////////////////////////////////
    currC2Color += 1;
    if (currC2Color > NumC2Colors)
        currC2Color = 1;
    setColor2();
	
	numC2Color.value = currC2Color;
}

/////////////////////////////////////////////////////////////////////////////////
function setPrevMColor(){
/////////////////////////////////////////////////////////////////////////////////
    currMColor -= 1;
    if (currMColor <= 0) 
        currMColor = NumMColors;
    alert(currMColor);
    setColor3();
	
	numMColor.value = currMColor;
}

/////////////////////////////////////////////////////////////////////////////////
function setNextMColor(){
/////////////////////////////////////////////////////////////////////////////////
    currMColor += 1;
    if (currMColor > NumMColors)
        currMColor = 1;
    setColor3();
	
	numMColor.value = currMColor;
}


/////////////////////////////////////////////////////////////////////////////////
function setTheme(){
/////////////////////////////////////////////////////////////////////////////////
    bg.src = "skins/bg" + currTheme + ".png";
}

/////////////////////////////////////////////////////////////////////////////////
function setColor(){
/////////////////////////////////////////////////////////////////////////////////
    st.src = "status/st" + currC1Color + ".png";
}

/////////////////////////////////////////////////////////////////////////////////
function setColor2(){
/////////////////////////////////////////////////////////////////////////////////
    st1.src = "status/st" + currC2Color + ".png";
}

/////////////////////////////////////////////////////////////////////////////////
function setColor3(){
/////////////////////////////////////////////////////////////////////////////////
    st2.src = "status/st" + currMColor + ".png";
}

/////////////////////////////////////////////////////////////////////////////////
function SettingsClosing(event) {
/////////////////////////////////////////////////////////////////////////////////

         if (event.closeAction == event.Action.commit) {
         
         THLbg = currTheme;
	     System.Gadget.Settings.write ("THLbg", THLbg);
	     
	     StatusC1Color = currC1Color;
	     System.Gadget.Settings.write ("StatusC1Color", StatusC1Color);
	     
	     StatusC2Color = currC2Color;
	     System.Gadget.Settings.write ("StatusC2Color", StatusC2Color);
	     
	     StatusMColor = currMColor;
	     System.Gadget.Settings.write ("StatusMColor", StatusMColor);
    
         shortcutPath = envVar.value;
		 System.Gadget.Settings.write("shortcutPath", shortcutPath);	
		
		 firstColor = document.settings0.firstColor.value;
	     System.Gadget.Settings.write ("firstColor", firstColor);   
	    
	     secondColor = document.settings1.secondColor.value;
	     System.Gadget.Settings.write ("secondColor", secondColor);   
	    
	     thirdColor = document.settings2.thirdColor.value;
	     System.Gadget.Settings.write ("thirdColor", thirdColor);   
	     
	     System.Gadget.Settings.write("intervalItem", Interval.options[ Interval.options.selectedIndex ].value );
		 System.Gadget.Settings.write("intervalIndex", Interval.options.selectedIndex );
}
		 event.cancel = false;
}

	
	</script>

</head>
<body onload="startup()">
	<g:background id="CurrentWallpaper" style="position: absolute; width: 125%; height: 100%;
		left: 0px; top: 0px; z-index: -999;" />
	<table width="100%" style="height: 100%">
		<tr>
			<td style="position: absolute; left: 215px; top: 187px;">
				<img src="layout/prevc.png" onclick="setPrevC1Color()" style="cursor: hand;" title="Previous core1 status color" /></td>
			<td style="position: absolute; left: 215px; top: 208px;">
				<img src="layout/prevc.png" onclick="setPrevC2Color()" style="cursor: hand;" title="Previous core2 status color" /></td>
			<td style="position: absolute; left: 215px; top: 229px;">
				<img src="layout/prevc.png" onclick="setPrevMColor()" style="cursor: hand;" title="Previous ram status color" /></td>
			<td style="position: absolute; left: 215px; top: 166px;">
				<img src="layout/prevc.png" onclick="setPrev()" style="cursor: hand;" title="Previous skin color" /></td>
			<td style="position: absolute; left: 237px; top: 187px;">
				<img src="layout/nextc.png" onclick="setNextC1Color()" style="cursor: hand;" title="Next core1 status color" /></td>
			<td style="position: absolute; left: 237px; top: 208px;">
				<img src="layout/nextc.png" onclick="setNextC2Color()" style="cursor: hand;" title="Next core2 status color" /></td>
			<td style="position: absolute; left: 237px; top: 229px;">
				<img src="layout/nextc.png" onclick="setNextMColor()" style="cursor: hand;" title="Next ram status color" /></td>
			<td style="position: absolute; left: 237px; top: 166px;">
				<img src="layout/nextc.png" onclick="setNext()" style="cursor: hand;" title="Next skin color" /></td>
			<td style="position: absolute; left: 40px; top: 173px;">
				<img name="bg" id="bg" /></td>
			<td style="position: absolute; left: 107px; top: 197px;">
				<img src="status/blackBox2.png" name="boxImg" border="0" id="boxImg" width="50%"
					height="7px" /></td>
			<td style="position: absolute; left: 107px; top: 209px;">
				<img src="status/blackBox2.png" name="boxImg1" border="0" id="boxImg1" width="50%"
					height="7px" /></td>
			<td style="position: absolute; left: 107px; top: 221px;">
				<img src="status/blackBox2.png" name="boxImg2" border="0" id="boxImg2" width="50%"
					height="7px" /></td>
			<td style="position: absolute; left: 107px; top: 198px;">
				<img name="st" id="st" width="70%" height="6px" /></td>
			<td style="position: absolute; left: 107px; top: 210px;">
				<img name="st1" id="st1" width="70%" height="6px" /></td>
			<td style="position: absolute; left: 107px; top: 222px;">
				<img name="st2" id="st2" width="70%" height="6px" /></td>
			<td style="position: absolute; left: 262px; top: 164px;">
				<input name="numSkin" type="text" id="numSkin" size="1" maxlength="2" disabled="disabled"
					style="font-family: Segoe UI; font-size: 10px; text-align: center;"></td>
			<td style="position: absolute; left: 262px; top: 185px;">
				<input name="numC1Color" type="text" id="numC1Color" size="1" maxlength="2" disabled="disabled"
					style="font-family: Segoe UI; font-size: 10px; text-align: center;"></td>
			<td style="position: absolute; left: 262px; top: 206px;">
				<input name="numC2Color" type="text" id="numC2Color" size="1" maxlength="2" disabled="disabled"
					style="font-family: Segoe UI; font-size: 10px; text-align: center;"></td>
			<td style="position: absolute; left: 262px; top: 227px;">
				<input name="numMColor" type="text" id="numMColor" size="1" maxlength="2" disabled="disabled"
					style="font-family: Segoe UI; font-size: 10px; text-align: center;"></td>
		</tr>
	</table>
	<form name="settings0">
		<div style="position: absolute; left: 219; top: 50px">
			<input style="font-family: Segoe UI; font-size: 11px; text-align: left;" name="firstColor"
				id="firstColor" type="text" size="8" maxlength="12" /></div>
	</form>
	<form name="settings1">
		<div style="position: absolute; left: 219; top: 75px">
			<input style="font-family: Segoe UI; font-size: 11px; text-align: left;" name="secondColor"
				id="secondColor" type="text" size="8" maxlength="12" /></div>
	</form>
	<form name="settings2">
		<div style="position: absolute; left: 219; top: 100px">
			<input style="font-family: Segoe UI; font-size: 11px; text-align: left;" name="thirdColor"
				id="thirdColor" type="text" size="8" maxlength="12" /></div>
	</form>
	<table width="100%" style="position: absolute; left: 216px; top: 123">
		<tr>
			<td>
				<select name="Interval" id="Interval" style="font-family: Segoe UI; font-size: 11px;
					text-align: left">
					<option value="1000">1000</option>
					<option value="250">250</option>
					<option value="375">375</option>
					<option value="500">500</option>
					<option value="625">625</option>
					<option value="750">750</option>
					<option value="875">875</option>
					<option value="1500">1500</option>
					<option value="2000">2000</option>
				</select>
			</td>
		</tr>
	</table>
	<div id="shortcut" style="position: absolute; left: 70px; top: 259px">
		<br>
		<input type="text" id="envVar" size="30" style="font-family: Segoe UI; font-size: 11px;"></div>
	<div style="position: absolute; margin-left: 1px; top: 53px;">
	</div>
	<div style="position: absolute; margin-left: 1px; top: 80px;">
	</div>
	<div style="position: absolute; margin-left: 1px; top: 107px;">
	</div>
	<img src="layout/info.png" alt="" style="position: absolute; left: 1px; top: 1px;
		z-index: -1;" />
</body>
</html>
